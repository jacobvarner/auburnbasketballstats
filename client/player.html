<template name="player">
  <div class="player-menu">
    <h2>Players</h2>
    <select id="season-select">
      <option value="" disabled selected>Choose a season</option>
      {{#each seasonList}}
        <option value="{{this}}">{{this}}</option>
      {{/each}}
    </select>
    <ul>
      {{#each playerList}}
        <li><a href="{{pathFor route='playerPage'}}">{{this.name}}</a></li>
      {{/each}}
    </ul>
  </div>
</template>

<template name="playerPage">
  <div class="player-header">
    <h2>{{name}}</h2>
    <h3>{{season}} Stats</h3>
    <div class="span-select">
      <span>View stats from the</span>
      <select class="span">
        <option value="0">Entire Season</option>
        {{#if season3}}
          <option value="3">Past 3 Games</option>
        {{/if}}
        {{#if season5}}
          <option value="5">Past 5 Games</option>
        {{/if}}
        {{#if season10}}
          <option value="10">Past 10 Games</option>
        {{/if}}
      </select>
    </div>
  </div>
  <div class="main-stats-container">
    <div class="stat-block">
      <p class="main">{{ppg}}</p>
      <p class="label">Points Per Game</p>
      <p class="secondary">{{points}} <span>Points</span></p>
    </div>
    <div class="stat-block">
      <p class="main">{{rpg}}</p>
      <p class="label">Rebounds Per Game</p>
      <p class="secondary">{{rebounds}} <span>Rebounds</span></p>
    </div>
    <div class="stat-block">
      <p class="main">{{apg}}</p>
      <p class="label">Assists Per Game</p>
      <p class="secondary">{{assists}} <span>Assists</span></p>
    </div>
    <div class="stat-block">
      <p class="main">{{fgp}}</p>
      <p class="label">Field Goal Percentage</p>
      <p class="secondary">{{fgm}}-{{fga}} <span>Field Goals</span></p>
    </div>
    <div class="stat-block">
      <p class="main">{{threepp}}</p>
      <p class="label">3pt Percentage</p>
      <p class="secondary">{{threepm}}-{{threepa}} <span>3pt Field Goals</span></p>
    </div>
    <div class="stat-block">
      <p class="main">{{twopp}}</p>
      <p class="label">2pt Percentage</p>
      <p class="secondary">{{twopm}}-{{twopa}} <span>2pt Field Goals</span></p>
    </div>
    <div class="stat-block">
      <p class="main">{{ftp}}</p>
      <p class="label">Free Throw Percentage</p>
      <p class="secondary">{{ftm}}-{{fta}} <span>Free Throws</span></p>
    </div>
    <div class="stat-block">
      <p class="main">{{bpg}}</p>
      <p class="label">Blocks Per Game</p>
      <p class="secondary">{{blocks}} <span>Blocks</span></p>
    </div>
    <div class="stat-block">
      <p class="main">{{spg}}</p>
      <p class="label">Steals Per Game</p>
      <p class="secondary">{{steals}} <span>Steals</span></p>
    </div>
    <div class="stat-block">
      <p class="main">{{topg}}</p>
      <p class="label">Turnovers Per Game</p>
      <p class="secondary">{{turnovers}} <span>Turnovers</span></p>
    </div>
    <div class="stat-block">
      <p class="main">{{pfpg}}</p>
      <p class="label">Fouls Per Game</p>
      <p class="secondary">{{fouls}} <span>Fouls</span></p>
    </div>
    <div class="stat-block">
      <p class="main">{{mpg}}</p>
      <p class="label">Minutes Per Game</p>
      <p class="secondary">{{minutes}} <span>Minutes</span></p>
    </div>
  </div>
  <div class="player-table-container">
    <h3>{{name}} vs Opponents</h3>
    {{> games}}
  </div>
</template>

<template name="games">
  <div class="table-container">
    <table class="player-games">
      <thead>
        <tr>
          <th class="date">Date</th>
          <th class="opponent">Opponent</th>
          <th class="start">Start?</th>
          <th class="stat">MIN</th>
          <th class="stat">PTS</th>
          <th class="stat">REB</th>
          <th class="stat">AST</th>
          <th class="stat">FGM/A</th>
          <th class="stat">3PM/A</th>
          <th class="stat">FTM/A</th>
          <th class="stat">ORB</th>
          <th class="stat">DRB</th>
          <th class="stat">PF</th>
          <th class="stat">TO</th>
          <th class="stat">BLK</th>
          <th class="stat">STL</th>
        </tr>
      </thead>
      <tbody>
        {{#each playerGames}}
          <tr>
            <td class="left">{{getDate}}</td>
            <td class="left">{{this.playerOpponent}}</td>
            <td>
              {{#if this.playerStarter}}
                &#10004;
              {{/if}}
            </td>
            <td>{{this.playerMIN}}</td>
            <td>{{this.playerPoints}}</td>
            <td>{{this.playerREB}}</td>
            <td>{{this.playerAST}}</td>
            <td>{{this.playerFGM}}-{{this.playerFGA}}</td>
            <td>{{this.player3PM}}-{{this.player3PA}}</td>
            <td>{{this.playerFTM}}-{{this.playerFTA}}</td>
            <td>{{this.playerORB}}</td>
            <td>{{this.playerDRB}}</td>
            <td>{{this.playerPF}}</td>
            <td>{{this.playerTO}}</td>
            <td>{{this.playerBLK}}</td>
            <td>{{this.playerSTL}}</td>
          </tr>
        {{/each}}
      </tbody>
    </table>
  </div>
</template>
